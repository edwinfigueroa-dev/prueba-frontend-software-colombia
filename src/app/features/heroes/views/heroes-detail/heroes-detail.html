<h3 class="m-0 mb-4 p-0 col-span-12 font-bold text-2xl text-gray-900">
  Detalle {{heroe?.name ? 'de '+ heroe?.name : 'no encontrado'}}
</h3>

<div class="grid grid-cols-12 p-4 sm:pb-0 m-0 bg-white rounded-lg overflow-hidden">
  @if (isLoading()) {
    <div class="col-span-12 flex justify-center items-start py-4">
      <app-spinner></app-spinner>
    </div>
  } @else {
    @if (existError() || heroe === null) {
      <div class="col-span-12 text-center line-height-3 my-5">
        <p class="m-0 p-0 text-base font-bold text-gray-500">Hubo un error al cargar los datos, por favor recargue la p√°gina o intente m√°s tarde.</p>
      </div>
    } @else {
      <div class="col-span-12">
        <button (click)="goBack()" class="flex items-center hover:bg-gray-200 transition-colors font-semibold mb-4 p-2 rounded-lg cursor-pointer">
            <mat-icon class="mr-1 text-xl">arrow_back</mat-icon>
        </button>
        <header class="text-center pb-6 border-b border-gray-200">
          <div class="flex justify-center my-4">
              <img 
                  [src]="heroe?.images?.lg" 
                  [alt]="heroe?.name" 
                  class="w-full max-w-xs rounded-lg shadow-2xl object-cover transition-transform transform hover:scale-105"
              >
          </div>

          <div class="text-lg font-semibold">
            Alineamiento: 
            <span 
              [class]="{ 
                'bg-green-500': heroe?.biography?.alignment === 'good', 
                'bg-red-500': heroe?.biography?.alignment === 'bad',
                'bg-gray-500': heroe?.biography?.alignment !== 'good' && heroe?.biography?.alignment !== 'bad'
              }"
              class="text-white py-1 px-3 rounded-full uppercase text-sm tracking-wider"
            >
              {{ heroe?.biography?.alignment }}
            </span>
          </div>
        </header>

        <div class="mt-8 grid grid-cols-1 lg:grid-cols-2 gap-8">

          <div>
            
            <section class="bg-gray-50 p-6 rounded-xl shadow-md mb-6">
                <h3 class="text-2xl font-bold text-gray-700 border-b pb-2 mb-4">üìä Power Stats</h3>
                <div class="space-y-3">
                    @for (stat of powerStatsArray; track stat.name) {
                      <div class="flex flex-col">
                        <label class="font-medium text-gray-700 capitalize">{{ stat.name }}</label>
                        <div class="flex items-center space-x-2">
                          <progress [value]="stat.value" max="100" class="w-full h-2 rounded-full progress-bar"></progress>
                          <span class="text-sm font-semibold text-gray-600 w-10 text-right">{{ stat.value }}</span>
                        </div>
                      </div>
                    } @empty {
                      <p class="text-gray-500">No hay estad√≠sticas de poder disponibles.</p>
                    }
                </div>
            </section>

            <section class="bg-gray-50 p-6 rounded-xl shadow-md">
              <h3 class="text-2xl font-bold text-gray-700 border-b pb-2 mb-4">üîó Conexiones & üè¢ Trabajo</h3>
              <ul class="space-y-2 text-gray-600">
                <li><strong class="text-gray-800">Afiliaci√≥n Grupal:</strong> {{ heroe?.connections?.groupAffiliation }}</li>
                <li><strong class="text-gray-800">Parientes:</strong> {{ heroe?.connections?.relatives }}</li>
                <li class="pt-2"><strong class="text-gray-800">Ocupaci√≥n:</strong> {{ heroe?.work?.occupation }}</li>
                <li><strong class="text-gray-800">Base de Operaciones:</strong> {{ heroe?.work?.base }}</li>
              </ul>
            </section>
            
          </div>

          <div>
            
            <section class="bg-gray-50 p-6 rounded-xl shadow-md mb-6">
              <h3 class="text-2xl font-bold text-gray-700 border-b pb-2 mb-4">üìú Biograf√≠a</h3>
              <ul class="space-y-2 text-gray-600">
                <li><strong class="text-gray-800">Nombre Completo:</strong> {{ heroe?.biography?.fullName }}</li>
                <li><strong class="text-gray-800">Primera Aparici√≥n:</strong> {{ heroe?.biography?.firstAppearance }}</li>
                <li><strong class="text-gray-800">Lugar de Nacimiento:</strong> {{ heroe?.biography?.placeOfBirth }}</li>
                <li><strong class="text-gray-800">Editorial:</strong> {{ heroe?.biography?.publisher }}</li>
                <li><strong class="text-gray-800">Alter Egos:</strong> {{ heroe?.biography?.alterEgos }}</li>
              </ul>
              <div class="mt-4">
                <h4 class="font-semibold text-gray-700 mb-2">Alias:</h4>
                @for (alias of heroe?.biography?.aliases; track alias) {
                  <span class="inline-block bg-gray-200 text-gray-700 text-xs font-medium mr-2 mb-2 px-3 py-1 rounded-full shadow-inner"> {{ alias }} </span>
                } @empty {
                  <p class="text-gray-500 text-sm">No se encontraron alias.</p>
                }
              </div>
            </section>

            <section class="bg-gray-50 p-6 rounded-xl shadow-md">
              <h3 class="text-2xl font-bold text-gray-700 border-b pb-2 mb-4">‚ú® Apariencia</h3>
              <ul class="space-y-2 text-gray-600">
                <li><strong class="text-gray-800">G√©nero:</strong> {{ heroe?.appearance?.gender }}</li>
                <li><strong class="text-gray-800">Raza:</strong> {{ heroe?.appearance?.race }}</li>
                <li><strong class="text-gray-800">Altura:</strong> {{ heroe?.appearance?.height?.[0] }} ({{ heroe?.appearance?.height?.[1] }})</li>
                <li><strong class="text-gray-800">Peso:</strong> {{ heroe?.appearance?.weight?.[0] }} ({{ heroe?.appearance?.weight?.[1] }})</li>
                <li><strong class="text-gray-800">Color de Ojos:</strong> {{ heroe?.appearance?.eyeColor }}</li>
                <li><strong class="text-gray-800">Color de Pelo:</strong> {{ heroe?.appearance?.hairColor }}</li>
              </ul>
            </section>
          </div>
        </div>
      </div>
    }
  }
</div>